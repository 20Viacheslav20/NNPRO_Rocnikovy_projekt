<mat-card class="card">
    <button mat-flat-button color="primary" (click)="create()" class="create-btn">
        <mat-icon>add</mat-icon>
        Create
    </button>
    <br>
    <mat-progress-bar *ngIf="loading()" mode="indeterminate"></mat-progress-bar>

    <table mat-table matSort [dataSource]="dataSource" class="modern-table mat-elevation-z1">

        <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef>Username</th>
            <td mat-cell *matCellDef="let u" class="cell-username">{{ u.username }}</td>
        </ng-container>

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let u">{{ u.name }}</td>
        </ng-container>

        <ng-container matColumnDef="surname">
            <th mat-header-cell *matHeaderCellDef>Surname</th>
            <td mat-cell *matCellDef="let u">{{ u.surname }}</td>
        </ng-container>

        <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef>Role</th>
            <td mat-cell *matCellDef="let u">{{ u.role }}</td>
        </ng-container>

        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let u" class="cell-actions">

                <button mat-icon-button matTooltip="Edit" color="primary" (click)="edit(u)">
                    <mat-icon>edit</mat-icon>
                </button>

                <button mat-icon-button matTooltip="Delete" color="warn" (click)="remove(u)">
                    <mat-icon>delete</mat-icon>
                </button>

                <button *ngIf="!u.blocked" mat-icon-button matTooltip="Block" color="warn" (click)="block(u)">
                    <mat-icon>block</mat-icon>
                </button>

                <button *ngIf="u.blocked" mat-icon-button matTooltip="Unblock" color="primary" (click)="unblock(u)">
                    <mat-icon>lock_open</mat-icon>
                </button>

            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="header-row"></tr>
        <tr mat-row *matRowDef="let u; columns: displayedColumns" class="data-row"></tr>
    </table>

    <mat-paginator [pageSize]="10"></mat-paginator>
</mat-card>